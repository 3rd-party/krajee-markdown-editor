/*!
 * krajee-markdown-editor v1.0.0
 * http://plugins.krajee.com/krajee-markdown-editor
 *
 * Krajee Markdown Editor Main Plugin Library
 *
 * Author: Kartik Visweswaran
 * Copyright: 2014 - 2018, Kartik Visweswaran, Krajee.com
 *
 * Licensed under the BSD 3-Clause
 * https://github.com/kartik-v/krajee-markdown-editor/blob/master/LICENSE.md
 */!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.markdownEditorLocales={},e.fn.markdownEditorThemes={};var t,o,n,i,r,a;t={CREDITS:'<a class="text-info" href="http://plugins.krajee.com/markdown-editor">krajee-markdown-editor</a>',CREDITS_MD:"[krajee-markdown-editor](http://plugins.krajee.com/markdown-editor)",DEFAULT_TIMEOUT:250,EMPTY:"",NAMESPACE:".markdownEditor",LINK_CM:'<a href="http://spec.commonmark.org/" target="_blank">CommonMark</a>',LINK_MI:'<a href="https://markdown-it.github.io/markdown-it/" target="_blank">markdown-it</a>',BS3_VER:"3.3.7",BS4_VER:"4.1.1",htmlEncode:function(e){return void 0===e?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},parseHtml:function(e){return void 0===e?"":t.kvUnescape(encodeURIComponent(e))},create:function(o,n){var i=e(document.createElement(o));return t.isEmpty(n)||i.attr(n),i},addCss:function(e,t){t&&e.removeClass(t).addClass(t)},uniqueId:function(){return Math.round((new Date).getTime()+100*Math.random())},isEmpty:function(o,n){return null===o||void 0===o||0===o.length||n&&e.trim(o)===t.EMPTY},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},trimRight:function(e,t){return void 0===t&&(t="s"),e.replace(new RegExp("["+t+"]+$"),"")},getMarkUp:function(e,t,o){var n=t.length,i=o.length,r=e;return n>0&&(r=r.slice(0,n)===t?r.slice(n):t+r),i>0&&(r=r.slice(-i)===o?r.slice(0,-i):r+o),r},getBlockMarkUp:function(o,n,i){var r=o,a=[];return r.indexOf("\n")<0?r=t.getMarkUp(o,n,i):(a=o.split("\n"),e.each(a,function(e,o){a[e]=t.getMarkUp(t.trimRight(o),n,i+"  ")}),r=a.join("\n")),r},setWhitespace:function(e,t){try{e.style.whiteSpace=t}catch(o){}},setSelectionRange:function(o,n,i){var r,a;if(o.setSelectionRange)o.focus(),o.setSelectionRange(n,i),o.scrollTop=0,n>100&&(r=document.createElement("pre"),o.parentNode.appendChild(r),a=window.getComputedStyle(o,""),r.style={visibility:"hidden",lineHeight:a.lineHeight,fontFamily:a.fontFamily,fontSize:a.fontSize,padding:0,border:a.border,outline:a.outline,overflow:"scroll",letterSpacing:a.letterSpacing},t.setWhitespace(r,"-moz-pre-wrap"),t.setWhitespace(r,"-o-pre-wrap"),t.setWhitespace(r,"-pre-wrap"),t.setWhitespace(r,"pre-wrap"),r.textContent=e(o).val().substring(0,n-100),o.scrollTop=r.scrollHeight,r.parentNode.removeChild(r));else if(o.createTextRange){var d=o.createTextRange();d.collapse(!0),d.moveEnd("character",i),d.moveStart("character",n),d.select()}},kvUnescape:function(e){return e.replace(/%([0-9A-F]{2})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})},handler:function(e,t){e&&e.isDefaultPrevented()||t()},delay:function(){var e=0;return function(o,n){clearTimeout(e),e=setTimeout(o,n||t.DEFAULT_TIMEOUT)}}()},o={click:"click"+t.NAMESPACE,input:"input"+t.NAMESPACE,change:"change"+t.NAMESPACE,focus:"focus"+t.NAMESPACE,blur:"blur"+t.NAMESPACE,keyup:"keyup"+t.NAMESPACE,keydown:"keydown"+t.NAMESPACE,resize:"resize"+t.NAMESPACE,reset:"reset"+t.NAMESPACE,scroll:"scroll"+t.NAMESPACE,touchstart:"touchstart"+t.NAMESPACE,mouseover:"mouseover"+t.NAMESPACE,modalShown:"shown.bs.modal"+t.NAMESPACE,modalHidden:"hidden.bs.modal"+t.NAMESPACE,buttonPress:"buttonPress"+t.NAMESPACE,beforePreview:"beforePreview"+t.NAMESPACE,successPreview:"successPreview"+t.NAMESPACE,emptyPreview:"emptyPreview"+t.NAMESPACE,errorPreview:"errorPreview"+t.NAMESPACE},n={templates:{main:'<div class="md-editor" tabindex="0">\n  {header}\n  <table class="md-input-preview">\n    <tr>\n      <td class="md-input-cell">{input}</td>\n      <td class="md-preview-cell">{preview}</td>\n    </tr>  </table>\n  {footer}\n  {dialog}\n</div>',header:'<div class="md-header">\n  <div class="md-toolbar-header-r btn-toolbar pull-right float-right">\n    {toolbarHeaderR}\n  </div>\n  <div class="md-toolbar-header-l btn-toolbar">\n    {toolbarHeaderL}\n  </div>\n  <div class="clearfix">\n  </div>\n</div>',preview:'<div class="md-preview" tabindex="0">\n</div>',footer:'<div class="md-footer">\n  <div class="md-toolbar-footer-r btn-toolbar pull-right float-right">\n    {toolbarFooterR}\n  </div>\n  <div class="md-toolbar-footer-l btn-toolbar">\n    {toolbarFooterL}\n  </div>\n  <div class="clearfix">\n  </div>\n</div>',dialog:'<div class="md-dialog modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n         {header}\n      </div>\n      <div class="modal-body">\n        <input class="md-dialog-input form-control">\n        <input class="md-dialog-title form-control">\n        <div class="md-dialog-content"></div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="md-dialog-cancel btn btn-default btn-outline-secondary" data-dismiss="modal">\n          {dialogCancelIcon} {dialogCancelText}\n        </button>\n        <button type="button" class="md-dialog-submit btn btn-primary" data-dismiss="modal">\n          {dialogSubmitIcon} {dialogSubmitText}\n        </button>\n      </div>\n    </div>\n</div>',dialogClose:'<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>\n',exportHeader:"> - - -\n> Markdown Export\n> ==============\n> *Generated {today} by {credits}*\n> - - -\n\n",htmlMeta:'<!DOCTYPE html>\n  <meta http-equiv="Content-Type" content="text/html,charset=UTF-8"/>\n  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>\n',exportCssJs:"{exportPrependCssJs}\n<style>\n  body{margin:20px;padding:20px;border:1px solid #ddd;border-radius:5px;}\n</style>",hint:"<ul>\n  <li><p>You may follow the {LINK_CM} specification (generated via {LINK_MI} plugin) for writing your markdown text.</p></li>\n  <li><p>In order to use the formatting buttons on the toolbar, you generally need to highlight a text   within the editor on which the formatting is to be applied. You can also undo the format action on the   highlighted text by clicking the button again (for most buttons).</p></li>\n  <li><p>Keyboard access shortcuts for buttons:</p>    {accessKeys}  </li>\n</ul>"},icons:{undo:"undo",redo:"redo",bold:"bold",italic:"italic",ins:"underline",del:"strikethrough",sup:"superscript",sub:"subscript",mark:"eraser",paragraph:"paragraph",newline:"text-height",heading:"heading",link:"link",image:"image",indent:"indent",outdent:"outdent",ul:"list-ul",ol:"list-ol",dl:"th-list",footnote:"sticky-note",blockquote:"quote-right",code:"code",codeblock:"file-code",hr:"minus",emoji:"smile",fullscreen:"arrows-alt",minscreen:"compress",hint:"lightbulb",modePreview:"search",modeEditor:"edit",modeSplit:"arrows-alt-h","export":"download",exportHtml:"file-alt",exportText:"file",alertMsg:"exclamation-circle",dialogCancel:"times",dialogSubmit:"check"},buttonAccessKeys:{undo:"z",redo:"y",bold:"b",italic:"i",ins:"u",del:"x",sup:"^",sub:"~",mark:"=",paragraph:"#",newline:"0",heading1:"1",heading2:"2",heading3:"3",heading4:"4",heading5:"5",heading6:"6",link:"l",image:"p",indent:">",outdent:"<",ul:"*",ol:"9",dl:"+",footnote:"n",blockquote:"q",code:"j",codeblock:"k",hr:"-",emoji:":",fullscreen:".",hint:"?",modeEditor:"(",modePreview:")",modeSplit:"_",exportHtml:"h",exportText:"t"},buttonTitles:{undo:"Undo",redo:"Redo",bold:"Bold",italic:"Italic",ins:"Underline / Inserted Text",del:"Strike Through",sup:"Superscript",sub:"Subscript",mark:"Highlighted Text",paragraph:"Paragraph",newline:"Append line break",heading:"Heading",link:"Hyperlink",image:"Image Link",indent:"Indent Text",outdent:"Outdent Text",ul:"Unordered List",ol:"Ordered List",dl:"Definition List",footnote:"Footnote",blockquote:"Block Quote",code:"Inline Code",codeblock:"Code Block",hr:"Horizontal Line",emoji:"Emojis / Emoticons",fullscreen:"Toggle full screen mode",hint:"Usage Hints",modeEditor:"Editor mode",modePreview:"Preview mode",modeSplit:"Split mode","export":"Export content",exportHtml:"Export as HTML",exportText:"Export as Text"},buttonLabels:{"export":"Export",exportHtml:"HTML",exportText:"Text"},buttonPrompts:{link:{header:"Insert Hyperlink",hintInput:"Enter hyperlink address...",hintTitle:"Enter text for the link..."},image:{header:"Insert Image Link",hintInput:"Enter image link address...",hintTitle:"Enter alternate text for the image..."},ol:{header:"Ordered List Starting Number",hintInput:"Integer starting from 1"},codeblock:{header:"Enter code language",hintInput:"e.g. html, php, js"}},buttonActions:{bold:{before:"**",after:"**","default":"**(bold text here)**"},italic:{before:"_",after:"_","default":"_(italic text here)_"},ins:{before:"++",after:"++","default":"_(inserted text here)_"},del:{before:"~~",after:"~~","default":"_(strikethrough text here)_"},mark:{before:"==",after:"==","default":"_(marked text here)_"},sup:{before:"^",after:"^","default":"_(superscript text here)_"},sub:{before:"~",after:"~","default":"_(subscript text here)_"},paragraph:{before:"\n",after:"\n","default":"\n(paragraph text here)\n",inline:!0},newline:{before:t.EMPTY,after:"  "},heading1:{before:"# ","default":"# (heading 1 text here)",inline:!0},heading2:{before:"## ","default":"## (heading 2 text here)",inline:!0},heading3:{before:"### ","default":"### (heading 3 text here)",inline:!0},heading4:{before:"#### ","default":"#### (heading 4 text here)",inline:!0},heading5:{before:"##### ","default":"##### (heading 5 text here)",inline:!0},heading6:{before:"###### ","default":"###### (heading 6 text here)",inline:!0},indent:function(t){var o,n="  ";return t.indexOf("\n")<0?t=n+t:(o=t.split("\n"),e.each(o,function(e,t){o[e]=n+t}),t=o.join("\n")),t},outdent:function(t){var o,n="  ";return t.indexOf("\n")<0&&t.substr(0,2)===n?t=t.slice(2):(o=t.split("\n"),e.each(o,function(e,t){o[e]=t,t.substr(0,2)===n&&(o[e]=t.slice(2))}),t=o.join("\n")),t},link:function(e){return function(o,n){return t.isEmpty(o)||("ftp://"!==o.substring(0,6)&&"http://"!==o.substring(0,7)&&"https://"!==o.substring(0,8)&&(o="http://"+o),e="["+n+"]("+o+")"),e}},image:function(e){return function(o,n){return t.isEmpty(o)||("ftp://"!==o.substring(0,6)&&"http://"!==o.substring(0,7)&&"https://"!==o.substring(0,8)&&(o="http://"+o),e="!["+n+"]("+o+")"),e}},ul:{before:"- ",after:t.EMPTY},ol:function(o){var n,i;return function(r){return t.isEmpty(r)?t.EMPTY:(t.isNumber(r)||(r=1),o.indexOf("\n")<0?o=t.getMarkUp(o,r+". ",t.EMPTY):(n=parseInt(r),i=o.split("\n"),e.each(i,function(e,o){i[e]=t.getMarkUp(o,n+". ",t.EMPTY),n++}),o=i.join("\n")),o)}},dl:function(o){var n,i,r;return o.indexOf("\n")>0?(n=1,r=o.split("\n"),e.each(r,function(e,o){i=n%2===0?":    ":t.EMPTY,r[e]=t.getMarkUp(o,i,t.EMPTY),n++}),o=r.join("\n")):o+="\n:    \n",o},footnote:function(o){var n,i,r,a="Enter footnote ",d=t.EMPTY;return o.indexOf("\n")<0?(d="[^1]: "+a+"1\n",o=t.getMarkUp(o,t.EMPTY,a+"[^1]")+"\n"+d):(n=1,r=o.split("\n"),e.each(r,function(e,o){i="[^"+n+"]",r[e]=t.getMarkUp(o,t.EMPTY,i+"  "),d=d+i+": "+a+n+"\n",n++}),o=r.join("\n")+"  \n\n"+d),o},blockquote:{before:"> ",after:"  "},code:{before:"`",after:"`",inline:!0},codeblock:function(e){return function(o){return t.isEmpty(o,!0)&&(o=t.EMPTY),t.getMarkUp(e,"~~~"+o+" \n","\n~~~  \n")}},hr:{before:t.EMPTY,after:"\n- - -",inline:!0}},exportConfig:{exportText:{ext:"txt",uri:"data:text/plain;base64,"},exportHtml:{ext:"htm",uri:"data:text/html;base64,"}}},i=function(){this.init()},i.prototype={constructor:i,init:function(){var e=this;e.commands=[],e.stackPosition=-1,e.savePosition=-1},execute:function(e){var t=this;t._clearRedo(),e.execute(),t.commands.push(e),t.stackPosition++,t.changed()},undo:function(){var e=this;e.commands[e.stackPosition].undo(),e.stackPosition--,e.changed()},canUndo:function(){var e=this;return e.stackPosition>=0},redo:function(){var e=this;e.stackPosition++,e.commands[e.stackPosition].redo(),e.changed()},canRedo:function(){var e=this;return e.stackPosition<e.commands.length-1},save:function(){var e=this;e.savePosition=e.stackPosition,e.changed()},dirty:function(){var e=this;return e.stackPosition!==e.savePosition},_clearRedo:function(){var e=this;e.commands=e.commands.slice(0,e.stackPosition+1)},changed:function(){}},r=function(e,t,o,n,i){var r=this;r.textarea=e,r.oldValue=t,r.newValue=o,r.oldPos=n,r.newPos=i},r.prototype={constructor:r,execute:function(){},undo:function(){var e=this,o=e.textarea,n=o[0];o.val(e.oldValue),t.setSelectionRange(n,e.oldPos[0],e.oldPos[1])},redo:function(){var e=this,o=e.textarea,n=o[0];o.val(e.newValue),t.setSelectionRange(n,e.newPos[0],e.newPos[1])}},a=function(t,o){var n=this;n.$element=e(t),n.init(o)},a.prototype={constructor:a,init:function(o){var n=this,i=n.$element;e.each(o,function(e,t){n[e]=t}),i.attr("id")||i.attr("id",t.uniqueId()),n.isBs4="4"===String(n.bsVersion).substring(0,1),void 0===n.exportPrependCssJs&&(n.exportPrependCssJs='<link href="https://maxcdn.bootstrapcdn.com/bootstrap/'+(n.isBs4?"4.1.1":"3.3.7")+'/css/bootstrap.min.css" rel="stylesheet">'),i.attr("rows",n.rows),n.setDefaults("icons"),n.setDefaults("buttonTitles"),n.setDefaults("buttonLabels"),n.setDefaults("buttonPrompts"),n.setDefaults("buttonAccessKeys"),n.setDefaults("buttonActions"),n.setDefaults("exportConfig"),n.setDefaults("templates"),n.defaultInputHeight=i.height(),t.isEmpty(n.parserUrl)&&void 0===n.parserMethod&&window.markdownit&&(n.parserMethod=function(o){var i=window.markdownit(n.markdownItOptions);return t.isEmpty(n.markdownItDisabledRules)||i.disable(n.markdownItDisabledRules),e.each(n.markdownItPlugins,function(e,t){i.use(window[e],t)}),i.renderer.rules.emoji=function(e,t){return n.useTwemoji&&window.twemoji?window.twemoji.parse(e[t].content):'<span class="md-emoji">'+e[t].content+"</span>"},i.renderer.rules.paragraph_open=i.renderer.rules.heading_open=function(e,t,o,n,i){var r;return e[t].map&&0===e[t].level&&(r=e[t].map[0],e[t].attrJoin("class","md-line"),e[t].attrSet("data-line",String(r))),i.renderToken(e,t,o,n,i)},i.render(o)}),n.enableSplitMode&&void 0===n.enableLivePreview&&(n.enableLivePreview=!0),n.render(),n.$preview.height(n.defaultInputHeight),i.height(n.defaultInputHeight),n.startFullScreen&&n.toggleFullScreen(),n.reset(),n.listen()},setDefaults:function(t){var o=this;"function"!=typeof o[t]&&(o[t]=e.extend(!0,{},n[t],o[t]))},getConfig:function(e,t){var o=this,n=o[e];return void 0===n?null:"function"==typeof n?n(t):n[t]},handleEvent:function(o,n,i){var r=this,a=n+t.NAMESPACE;o.off(a).on(a,e.proxy(r[i],r))},listen:function(){var t=this,n=t.$container,i=t.$element,r=t.$preview,a=i.closest("form"),d=o.resize,s=o.reset,l=o.keyup,c=o.buttonPress,u=o.focus,p=o.blur,m=o.change,f=o.click,h=o.touchstart+" "+o.mouseover,g=t.$editor.find(".md-emoji-search"),v=o.keydown;t.parseButtons(),n.find(".dropdown-toggle").dropdown(),t.handleEvent(t.$dialog,v,"keydownDialog"),t.handleEvent(i,u,"focus"),t.handleEvent(r,u,"focus"),t.handleEvent(i,p,"blur"),t.handleEvent(r,p,"blur"),t.handleEvent(t.$editor,u,"focusContainer"),t.handleEvent(e(window),d,"resizeWindow"),a.length&&t.handleEvent(a,s,"reset"),t.handleEvent(t.$btnUndo,f,"undo"),t.handleEvent(t.$btnRedo,f,"redo"),t.handleEvent(i,l,"keyup"),t.handleEvent(i,c,"buttonPress"),t.handleEvent(i,h,"mouseoverEditor"),t.handleEvent(r,h,"mouseoverPreview"),t.handleEvent(t.$modeInput,m,"modeChange"),g.length&&(t.handleEvent(g.find("input"),l,"emojiSearch"),t.handleEvent(g.find(".md-close"),f,"emojiSearchClose"))},resizeWindow:function(o){var n,i,r=this,a=r.$container,d=r.$preview;t.handler(o,function(){a.hasClass("md-fullscreen-overlay")&&r.resizeFullScreen(),n=d.find(".md-preview-message"),n.length&&(i=e(window).width()<640?"100%":.5*d.width(),n.width(i))})},emojiSearch:function(o){var n=this,i=n.$editor.find(".md-emoji-search"),r=i.find("input"),a=r.val(),d=i.closest("ul");t.handler(o,function(){t.delay(function(){d.find("li").each(function(){var t=e(this),o=t.find("a").attr("data-key");t.hasClass("md-emoji-search")||o&&-1!==o.indexOf(a)?t.show():t.hide()})})})},emojiSearchClose:function(e){var o=this,n=o.$editor.find(".md-emoji-search");t.handler(e,function(){e.stopPropagation(),n.closest("ul").find("li").show(),n.find("input").val("")})},focusContainer:function(e){var o=this;t.handler(e,function(){o.$element.focus()})},focus:function(e){var o=this;t.handler(e,function(){t.addCss(o.$editor,"active")})},blur:function(e){var o=this;t.handler(e,function(){o.$editor.removeClass("active")})},clickButton:function(e,o){var n,i,r=this,a=o.data("key"),d=o.hasClass("md-btn-heading"),s=o.hasClass("md-btn-export"),l=o.hasClass("md-btn-emoji");t.handler(e,function(){if(d||s||l){if(e.preventDefault(),s)return void r.exportData(a);if(l)return void r.replaceSelected(":"+a+":")}switch(a){case"fullscreen":r.toggleFullScreen();break;case"hint":n=r.getTitle(a)+" <small>"+t.CREDITS+"</small>",r.showPopup(n,r.renderHint(),!0);break;default:i=r.process(a),t.isEmpty(i)||r.replaceSelected(i)}})},modeChange:function(e){var o,n=this;t.handler(e,function(){o=n.$mode.find('input:radio[name="mdMode"]:checked').val()||"modeEditor",n.toggleMode(o),n.currentMode=o.substr(4).toLowerCase()})},reset:function(e){var o=this,n=o.$element,i=n[0];t.handler(e,function(){setTimeout(function(){o.enableUndoRedo?(o.undoStack=o.resetUndoStack(),o.startValue=n.val(),o.startPos=[i.selectionStart,i.selectionEnd]):o.undoStack=null,o.$preview.is(":visible")&&setTimeout(function(){o.generatePreview()},1)},1)})},undo:function(e){var o=this;o.enableUndoRedo&&t.handler(e,function(){o.undoStack.undo(),o.scrollMap=null,o.enableLivePreview&&o.generatePreview()})},redo:function(e){var o=this;o.enableUndoRedo&&t.handler(e,function(){o.undoStack.redo(),o.scrollMap=null,o.enableLivePreview&&o.generatePreview()})},keyup:function(e){var o=this,n=o.$element,i=n[0],a=o.undoStack;t.handler(e,function(){o.enableLivePreview&&o.$preview.is(":visible")&&t.delay(o.generatePreview()),o.enableUndoRedo&&t.delay(function(){var e=n.val(),t=[i.selectionEnd,i.selectionEnd];e!==o.startValue&&(a.execute(new r(n,o.startValue,e,o.startPos,t)),o.startValue=e,o.startPos=t,o.scrollMap=null)})})},keydownDialog:function(o){var n=this;t.handler(o,function(){var t=e(o.target),i=t.hasClass("md-dialog-input"),r=t.hasClass("md-dialog-title");13===o.keyCode&&(i||r)&&(o.stopPropagation(),o.preventDefault(),!r&&n.$dialogTitle.is(":visible")||n.$dialogSubmit.trigger("click"))})},buttonPress:function(e,o,n){var i,a=this,d=a.$element;t.handler(e,function(){a.enableUndoRedo&&(i=d.val(),a.startPos=o,a.undoStack.execute(new r(d,a.startValue,i,a.startPos,n)),a.startValue=i,a.startPos=n),a.enableLivePreview&&a.$preview.is(":visible")&&a.generatePreview()})},_mouseover:function(e,t){var n=this,i=n.$element,r=n.$preview,a=o.scroll;e&&e.isDefaultPrevented()||!i.is(":visible")||!r.is(":visible")||("editor"===t?(r.off(a),i.on(a,function(){n.syncPreviewScroll()})):(i.off(a),r.on(a,function(){n.syncInputScroll()})))},mouseoverEditor:function(e){var o=this;t.handler(e,function(){o._mouseover(e,"editor")})},mouseoverPreview:function(e){var o=this;t.handler(e,function(){o._mouseover(e,"preview")})},buildScrollMap:function(){var o,n,i,r,a,d,s,l=this,c=l.$element,u=l.$preview,p=0,m=[],f=[],h=[];if(!l.enableScrollSync)return"";for(s=t.create("div").css({position:"absolute",visibility:"hidden",height:"auto",width:c[0].clientWidth,"font-size":c.css("font-size"),"font-family":c.css("font-family"),"line-height":c.css("line-height"),"white-space":c.css("white-space")}).appendTo("body"),n=u[0].scrollTop-u.offset().top,c.val().split("\n").forEach(function(e){var t,o;return m.push(p),0===e.length?void p++:(s.text(e),t=parseFloat(s.css("height")),o=parseFloat(s.css("line-height")),void(p+=Math.round(t/o)))}),s.remove(),m.push(p),d=p,o=0;d>o;o++)h.push(-1);for(f.push(0),h[0]=0,u.find(".md-line").each(function(t,o){var i=e(o),r=i.data("line");""!==r&&(r=m[r],0!==r&&f.push(r),h[r]=Math.round(i.offset().top+n))}),f.push(d),h[d]=u[0].scrollHeight,i=0,o=1;d>o;o++)-1===h[o]?(r=f[i],a=f[i+1],h[o]=Math.round((h[a]*(o-r)+h[r]*(a-o))/(a-r))):i++;return h},syncInputScroll:function(){var e,t,o,n=this,i=n.$element,r=n.$preview,a=n.scrollMap,d=r[0].scrollTop,s=parseFloat(i.css("line-height"));if(a||(a=n.scrollMap=n.buildScrollMap()),e=Object.keys(a),!(e.length<1)){for(o=e[0],t=1;t<e.length&&a[e[t]]<d;t++)o=e[t];i.stop(!0).animate({scrollTop:s*o},100,"linear")}},syncPreviewScroll:function(){var e,t=this,o=t.$element,n=t.$preview,i=t.scrollMap,r=parseFloat(o.css("line-height")),a=Math.floor(o[0].scrollTop/r);i||(i=t.scrollMap=t.buildScrollMap()),e=i[a],n.stop(!0).animate({scrollTop:e},100,"linear")},resetUndoStack:function(){var e=this,t=new i;return e.startValue=e.$element.val(),e.startPos=[0,0],t.changed=function(){e.disableButton(e.$btnUndo,!t.canUndo()),e.disableButton(e.$btnRedo,!t.canRedo())},t.changed(),t},parseButtons:function(){var t=this,n=t.$container,i=o.click;n.find(".md-btn,.md-btn-heading,.md-btn-export,.md-btn-emoji").each(function(){var o=e(this);o.off(i).on(i,function(e){t.clickButton(e,o)})})},getSelected:function(){var e=this,t=e.$element,o=t.val(),n=t[0];return o.substring(n.selectionStart,n.selectionEnd)},replaceSelected:function(e){var n=this,i=n.$element,r=i.val(),a=i[0],d=a.selectionStart,s=e.length,l=a.selectionEnd,c=r.substring(0,d)+e+r.substring(l),u=d+s;i.val(c).trigger(o.buttonPress,[[d,l],[d,u]]),t.setSelectionRange(a,d,u)},destroy:function(){var o=this,n=o.$element,i=o.$container,r=o.inputCss;n.insertBefore(i).off(t.NAMESPACE),e(window).off(t.NAMESPACE),r&&n.removeClass(r).show(),i.remove()},getLayout:function(e){var o,n,i,r,a=this,d=a.getConfig("templates",e)||t.EMPTY;return"dialog"===e&&(r=a.isBs4?"h5":"h4",n="<"+r+' class="md-dialog-head-title modal-title"></'+r+">",i=a.getConfig("templates","dialogClose"),o=a.isBs4?n+"\n"+i:i+"\n"+n,d=d.replace("{header}",o).replace("{dialogCancelIcon}",a.renderIcon("dialogCancel")).replace("{dialogSubmitIcon}",a.renderIcon("dialogSubmit")).replace("{dialogCancelText}",a.dialogCancelText).replace("{dialogSubmitText}",a.dialogSubmitText)),d},submitExportForm:function(o,n){var i,r,a,d=this,s=t.create("form"),l=d.$element.attr("id")+"-iframe",c=d.exportAddlData;e("#"+l).length||t.create("iframe",{id:l,name:l,css:{display:"none"}}).appendTo("body"),i=t.create("input",{type:"hidden",name:"export_type",value:o}),r=t.create("input",{type:"hidden",name:"export_filename",value:d.exportFileName}),a=t.create("input",{name:"export_content",css:{display:"none"}}).val(n||d.noDataMsg),s.attr({target:l,action:d.exportUrl,method:d.exportMethod}),s.append(i,r,a),c&&s.append("function"==typeof c?c():c),s.appendTo("body").hide().submit().remove()},showPopup:function(e,t,n){var i=this,r=o.modalShown;i.$dialogMain.removeClass("modal-lg"),n&&i.$dialogMain.addClass("modal-lg"),i.$dialogHeadTitle.html(e),i.$dialogContent.html(t).show(),i.$dialogInput.hide(),i.$dialogTitle.hide(),i.$dialogClose.show(),i.$dialogHeader.show(),i.$dialogFooter.hide(),i.$dialogSubmit.off(o.click),i.$dialog.modal("show"),i.$dialog.off(r).on(r,function(){i.$dialogClose.focus(),i.$dialog.off(r)})},showDialog:function(e,n,i){var i,r=this,a=r.getConfig("buttonPrompts",e),d=a.header||t.EMPTY,s=r.renderIcon(e),l=a.hintInput||t.EMPTY,c=a.hintTitle,u=o.modalShown;r.$dialogMain.removeClass("modal-lg"),r.$dialogHeadTitle.html(s?s+" "+d:d),r.$dialogContent.hide(),r.$dialogTitle.hide().val(i||t.EMPTY),r.$dialogClose.show(),r.$dialogHeader.show(),r.$dialogFooter.show(),r.$dialogInput.show().val(t.EMPTY).attr("placeholder",l),c&&!i&&r.$dialogTitle.show().attr("placeholder",c),r.$dialogSubmit.off(o.click).on(o.click,function(){i=n(r.$dialogInput.val(),r.$dialogTitle.val()),t.isEmpty(i)||r.replaceSelected(i)}),r.$dialog.modal("show"),r.$dialog.off(u).on(u,function(){r.$dialogInput.focus(),r.$dialog.off(u)})},raise:function(o,n,i){var r=this,a=e.Event(o+t.NAMESPACE);return i=i||r.$element,n?i.trigger(a,n):i.trigger(a),!a.isDefaultPrevented()||a.result===!1},showPreviewMsg:function(e){var t=this,o=t.$preview,n=t.getAlert(e,t.previewErrorTitle);o.html('<div class="md-preview-message">'+n+"</div>"),o.find(".md-preview-message").width(.5*o.width()),o.find(".md-alert").hide().fadeIn("slow")},disableButton:function(e,t){e.attr("disabled",t||!1)},hasInvalidConfig:function(e){var o=this,n=o[e+"Url"],i=o[e+"Method"],r=t.isEmpty(n),a=t.isEmpty(i),d=typeof i;return"export"===e&&o.enableExportDataUri?!1:r&&a||!a&&"function"!==d&&"object"!==d},parseOutput:function(t){var o=this,n=o.postProcess;return n&&("function"==typeof n?t=n(t):"object"==typeof n&&e.each(n,function(e,o){e!==o&&(t=t.split(e).join(o))})),t},generatePreview:function(o,n){var i=this,r=i.$element,a=i.$preview,d=i.parserUrl,s=i.parserMethod,l=i.getProgress(i.previewProgressMsg);return void 0===o&&(o=r.val()),t.isEmpty(d)?(o="function"==typeof s?s(o):new s(o),o=i.parseOutput(o),n?o:void a.html(o)):(e.ajax({type:"POST",url:d,dataType:"json",data:{source:o},beforeSend:function(e){i.raise("beforePreview",[e])&&a.html(l)},success:function(e,o,n){var r=!t.isEmpty(e,!0);r&&i.raise("successPreview",[e,o,n])&&(e=i.parseOutput(e),a.html(e)),!r&&i.raise("emptyPreview",[e,o,n])&&i.showPreviewMsg(i.emptyPreviewMsg)},error:function(e,t,o){i.raise("errorPreview",[e,t,o])&&i.showPreviewMsg(i.errorPreviewMsg)}}),null)},output:function(){var e,n=this,i=n.$element,r=n.$preview,a=i.val(),d=!0,s=0,l=o.successPreview,c=o.emptyPreview+" "+o.errorPreview;if(t.isEmpty(a)||n.hasInvalidConfig("parser"))return t.EMPTY;if(e=n.generatePreview(a,!0),t.isEmpty(n.parserUrl))return e;for(;d&&s<n.outputParseTimeout;)t.delay(function(){i.off(l).on(l,function(){d=!1,e=r.html()}).off(c).on(c,function(){d=!1,e=""}),s+=150},150);return e},toggleMode:function(e){var o=this,n=o.$element,i=n.val(),r=o.$container,a=o.currentMode||"modeEditor",d=r.find(".md-input-preview"),s=function(){"editor"===a&&(o.$preview.html(o.getProgress(o.loadingMsg)),setTimeout(function(){o.generatePreview(),o.$mode.focus()},50))};if(t.isEmpty(i)||o.hasInvalidConfig("parser"))return void o.showPopupAlert(o.getTitle("mode"),t.isEmpty(i)?o.noDataMsg:o.noPreviewUrlMsg);switch(r.removeClass("md-only-preview"),d.removeClass("md-editor-mode md-preview-mode md-split-mode"),e){case"modeEditor":t.addCss(d,"md-editor-mode");break;case"modePreview":t.addCss(d,"md-preview-mode"),t.addCss(r,"md-only-preview"),s();break;case"modeSplit":t.addCss(d,"md-split-mode"),s()}},toggleFullScreen:function(){var e=this,t=e.$container,o=e.$element,n=e.$preview;t.hasClass("md-fullscreen-overlay")?(t.removeClass("md-fullscreen-overlay"),o.height(e.defaultInputHeight),n.height(e.defaultInputHeight)):(t.addClass("md-fullscreen-overlay"),e.resizeFullScreen()),n.is(":visible")?n.focus():o.focus()},resizeFullScreen:function(){var t=this,o=t.$container,n=t.$element,i=o.find(".md-header"),r=o.find(".md-footer"),a=e(window).height()-i.outerHeight(!0)-r.outerHeight(!0)-(n.outerHeight(!0)-n.height());n.height(a),t.$preview.height(a)},process:function(e){var o,n,i,r,a=this,d=a.$element,s=a.getSelected(),l=s.length,c=a.getConfig("buttonActions",e);return d.focus(),"undo"===e||"redo"===e?"":c?"function"==typeof c?(o=c(s),"function"==typeof o?(a.showDialog(e,o,s),t.EMPTY):o):"object"!=typeof c||void 0===c.before&&void 0===c.after?t.EMPTY:(i=t.isEmpty(c.before)?t.EMPTY:c.before,r=t.isEmpty(c.after)?t.EMPTY:c.after,n=c["default"],o=c.inline?t.getMarkUp(s,i,r):t.getBlockMarkUp(s,i,r),n?l>0?o:n:o):t.EMPTY},download:function(e,o){var n,i=this,r=i.getConfig("exportConfig",e),a=r.ext||"",d=r.uri||"";return t.isEmpty(i.exportUrl)?(d+=window.btoa(o),n=t.create("a").attr({href:d,download:i.getFileName(e)}).appendTo("body"),n[0].click(),void n.remove()):void i.submitExportForm(a,o)},getLabel:function(e){var o=this;return o.renderIcon(e)+" "+(o.getConfig("buttonLabels",e)||t.EMPTY)},getTitle:function(e){var o=this;return o.renderIcon(e)+" "+(o.getConfig("buttonTitles",e)||t.EMPTY)},getProgress:function(e){return'<div class="md-loading">'+e+"</div>"},getAlert:function(e,t,o){var n=this;return t=t?"<h4>"+(o?"":n.renderIcon("alertMsg"))+t+"</h4>":"",'<div class="'+n.alertMsgCss+' md-alert">'+t+e+"</div>"},showPopupAlert:function(e,t){var n=this,i=n.$dialog.find(".modal-body"),r=n.alertFadeDuration,a=o.modalShown,d=o.modalHidden;n.showPopup("",n.getAlert(t,e,!0)),n.$dialogHeader.hide(),n.$dialogFooter.hide(),n.$dialogClose.hide(),i.addClass("md-zero-pad"),n.$dialog.off(a).on(a,function(){r?setTimeout(function(){n.$dialog.modal("hide").off(a)},r):n.$dialog.modal("hide").off(a)}),n.$dialog.off(d).on(d,function(){i.removeClass("md-zero-pad"),n.$dialog.off(a).off(d),n.$element.focus()})},getHtmlContent:function(e){var t=this,o=t.exportPrependCssJs;return"<html>\n<head>\n"+t.getLayout("htmlMeta")+t.getLayout("exportCssJs").replace("{exportPrependCssJs}",o)+"\n</head>\n<body>\n"+e+"\n</body>\n</html>"},exportData:function(o){var n,i=this,r=i.$element.val(),a=i.getTitle("exportText"),d=i.getTitle("exportHtml"),s=i.noDataMsg,l=i.exportErrorMsg,c=i.noExportUrlMsg,u=i.today||new Date;return t.isEmpty(r)||i.hasInvalidConfig("parser")||i.hasInvalidConfig("export")?void i.showPopupAlert("exportText"===o?a:d,t.isEmpty(r)?s:c):(r=i.getLayout("exportHeader").replace("{today}",u).replace("{credits}",t.CREDITS_MD)+r,"exportHtml"!==o?void i.download("exportText",r):t.isEmpty(i.parserUrl)?(n=t.parseHtml(i.generatePreview(r,!0)),void i.download("exportHtml",i.getHtmlContent(n))):void e.ajax({type:"POST",url:i.parserUrl,dataType:"json",data:{source:r},beforeSend:function(e){i.raise("beforeExportHtm",[e])&&i.showPopup(d,i.getProgress(i.exportProgressMsg))},success:function(e,t,n){i.raise("successExportHtm",[e,t,n])&&(i.$dialog.modal("hide"),e?i.download(o,i.getHtmlContent(e)):i.showPopupAlert(d,l))},error:function(e,t,o){i.raise("errorExportHtm",[e,t,o])&&i.showPopupAlert(d,l)}}))},renderIcon:function(e){var o=this,n=o.getConfig("icons",e)||t.EMPTY;return n?'<span class="'+o.iconCssPrefix+n+'"></span>':t.EMPTY},render:function(){var o,n,i=this,r=i.$element,a=t.create("div").addClass("md-container"),d=i.getLayout("main"),s="md-editor-input-temporary",l=r.attr("id")+"-container";return d?(i.theme&&t.addCss(a,"md-"+i.theme),n=d.replace("{input}",'<div class="'+s+'"></div>').replace("{header}",i.renderHeader()).replace("{footer}",i.renderFooter()).replace("{preview}",i.getLayout("preview")).replace("{dialog}",i.getLayout("dialog")),a.attr("id",l).insertBefore(r).html(n),o=a.find("."+s),r.insertBefore(o),t.addCss(r,i.inputCss),o.remove(),i.$container=a,i.$editor=a.find(".md-editor"),i.$preview=a.find(".md-preview"),i.$btnPreview=a.find(".md-btn-preview"),i.$btnUndo=a.find(".md-btn-undo"),i.$btnRedo=a.find(".md-btn-redo"),i.$dialog=a.find(".md-dialog"),i.$dialogHeadTitle=i.$dialog.find(".md-dialog-head-title"),i.$dialogInput=i.$dialog.find(".md-dialog-input"),i.$dialogTitle=i.$dialog.find(".md-dialog-title"),i.$dialogContent=i.$dialog.find(".md-dialog-content"),i.$dialogCancel=i.$dialog.find(".md-dialog-cancel"),i.$dialogSubmit=i.$dialog.find(".md-dialog-submit"),i.$dialogClose=i.$dialog.find(".close"),i.$dialogMain=i.$dialog.find(".modal-dialog"),i.$dialogHeader=i.$dialog.find(".modal-header"),i.$dialogFooter=i.$dialog.find(".modal-footer"),i.$mode=a.find(".md-btn-mode"),i.$modeInput=i.$mode.find('input:radio[name="mdMode"]'),i.$inputPreview=a.find(".md-input-preview"),i.$inputCell=a.find(".md-input-cell"),i.$previewCell=a.find(".md-preview-cell"),i.previewModeTitle&&i.$editor.find(".md-toolbar-header-l").prepend('<div class="md-preview-mode-title">'+i.previewModeTitle+"</div>"),"preview"===i.defaultMode||i.enableSplitMode&&"split"===i.defaultMode||(i.defaultMode="editor"),i.currentMode=i.defaultMode,t.addCss(i.$inputPreview,"md-"+i.defaultMode+"-mode"),void e.each(i.dropUp,function(e,t){t&&a.find('button[data-key="'+e+'"]').parent().addClass("dropup")})):t.EMPTY},_toolbar:function(t){var o=this,n=[];return e.each(o[t],function(t,o){var i=e.isArray(o)?o:[o];e.merge(n,i)}),n},getValidButtons:function(){var t=this,o=t._toolbar("toolbarHeaderL");return e.merge(o,t._toolbar("toolbarHeaderR")),
e.merge(o,t._toolbar("toolbarFooterL")),e.merge(o,t._toolbar("toolbarFooterR")),o},renderHint:function(){var o,n,i,r,a,d,s=this,l="{accessKeys}";return o=s.getLayout("hint").replace("{LINK_CM}",t.LINK_CM).replace("{LINK_MI}",t.LINK_MI),-1===o.indexOf(l)?o:(n='<div class="md-hint-access-keys"><ul>',e.each(s.getValidButtons(),function(e,t){var o;if(d=s.buttonCss[t]||s.defaultButtonCss,"heading"===t)for(a=1;6>=a;a++)i=s.renderIcon("heading")+a,o=s.getConfig("buttonAccessKeys",t+a),r=s.getConfig("buttonTitles","heading")+" "+a,n+='<li title="'+r+'"><p><span class="'+d+'">'+i+"</span></p><p><kbd>ALT</kbd> &ndash; <kbd>"+o+"</kbd></p></li>";else"export"!==t.substring(0,6)&&"mode"!==t.substring(0,4)&&(o=s.getConfig("buttonAccessKeys",t),i=s.renderIcon(t),r=s.getConfig("buttonTitles",t),n+='<li title="'+r+'"><p><span class="'+d+'">'+i+"</span></p><p><kbd>ALT</kbd> &ndash; <kbd>"+o+"</kbd></p></li>")}),n+="</ul></div>",o.replace(l,n))},renderHeader:function(){var e=this,t=e.getLayout("header");return t=e.renderToolbar(t,"toolbarHeaderL"),t=e.renderToolbar(t,"toolbarHeaderR")},renderFooter:function(){var e=this,t=e.getLayout("footer");return t=e.renderToolbar(t,"toolbarFooterL"),t=e.renderToolbar(t,"toolbarFooterR")},renderToolbar:function(t,o){var n,i,r=this,a="{"+o+"}",d="",s="";return-1===t.indexOf(a)?t:(console.log(o),e.each(r[o],function(t,o){e.isArray(o)||(o=[o]),i="",n=r.buttonGroupCss,e.each(o,function(e,t){i+=r.renderButton(t)+"\n","mode"===t&&(n+=" btn-group-toggle md-btn-mode",s=' data-toggle="buttons"')}),d+='<div class="'+n+'" role="group"'+s+">\n"+i+"</div>\n"}),t.replace("{"+o+"}",d))},getFileName:function(e){var t=this,o=t.exportFileName,n=t.getConfig("exportConfig",e),i=n&&n.ext||"";return i?o+"."+i:o},renderMenuItem:function(e,o){var n,i,r,a=this,d=t.create("div"),s=e+o;return"export"===e?(i=a.getConfig("buttonTitles",s),r=a.getLabel(s)):(i=a.getConfig("buttonTitles",e),r=i+" "+o),n=t.create("a").attr({href:"#","class":"dropdown-item md-btn-"+e+" md-btn-"+s,title:i,accesskey:a.getConfig("buttonAccessKeys",s),"data-key":s}).html(r),r=d.append(n).html(),d.remove(),a.isBs4?r:"<li>"+r+"</li>"},getEmojies:function(){var o=this,n="";return t.isEmpty(o.markdownItEmojies)?"":(n='<li class="md-emoji-search"><span class="md-close">&times;</span><input type="text" class="form-control form-control-sm input-sm" placeholder="'+o.emojiSearchHint+'"></li>',e.each(window.mdEmojies,function(e,i){var r,a,d=":"+t.htmlEncode(e)+":",s=window.mdEmojiesShortcuts[e]||"";if(s)for(d+=" or ",r=0;r<s.length;r++)a=t.htmlEncode(s[r]),d+=0===r?a:" or "+a;n+='<li><a href="#" class="md-btn-emoji" title="'+d+'" data-key="'+e+'"><span class="md-emoji">'+(o.useTwemoji?window.twemoji.parse(i):i)+"</span></a></li>"}),n)},getModeButton:function(e){var t=this,o=t.buttonCss[e]||t.defaultButtonCss||"",n="",i=e.substr(4).toLowerCase(),r=t.getConfig("buttonAccessKeys",e)||"";return t.defaultMode===i&&(o+=" active",n=" checked"),'<label class="'+o+'" title="'+t.getConfig("buttonTitles",e)+'"><input type="radio" value="'+e+'" name="mdMode" autocomplete="off" accesskey="'+r+'"'+n+">"+t.renderIcon(e)+"</label>"},renderButton:function(e){var o,n,i,r,a,d,s,l,c,u,p=this,i=p.getConfig("icons",e),m="mode"===e||void 0!==i||void 0!==p.getConfig("buttonActions",e),f="md-btn-"+e,h=p.isBs4&&"emoji"!==e?"div":"ul";if(!m||!p.enableUndoRedo&&("undo"===e||"redo"===e||"editor"===e))return t.EMPTY;switch(c=p.buttonCss[e]||p.defaultButtonCss,n=t.create("div"),o=t.create("button").attr({type:"button","data-key":e}),i=p.renderIcon(e),r=p.getConfig("buttonTitles",e)||t.EMPTY,a=p.getConfig("buttonLabels",e)||t.EMPTY,r&&o.attr("title",r),"fullscreen"!==e&&"hint"!==e&&"mode"!==e||(f+=" md-btn-special"),"fullscreen"===e&&(i='<span class="md-max-icon">'+i+'</span><span class="md-min-icon">'+p.renderIcon("minscreen")+"</span>"),a=i&&a?i+" "+a:i+a,n.append(o),e){case"heading":case"export":case"emoji":if(o.html(a+" ").attr({"data-toggle":"dropdown"}).append('<span class="caret"></span>'),u=p.dropdownCss[e]?"dropdown-menu "+p.dropdownCss[e]:"dropdown-menu",l="<"+h+' class="'+u+'">\n',"heading"===e||"emoji"===e)if(o.addClass(c+" dropdown-toggle md-btn-other"),"emoji"===e)l+=p.getEmojies();else for(s=1;7>s;s++)d=r+" "+s,l+=p.renderMenuItem("heading",s);else"export"===e&&(o.addClass(c+" dropdown-toggle"),l+=p.renderMenuItem(e,"Html")+p.renderMenuItem(e,"Text"));return l+="</"+h+">",n.append(l),n.html();case"mode":return p.getModeButton("modeEditor")+p.getModeButton("modePreview")+(p.enableSplitMode?p.getModeButton("modeSplit"):"");default:return o.attr("accesskey",p.getConfig("buttonAccessKeys",e)).html(a).addClass(c+" "+f+" md-btn"),n.html()}}},e.fn.markdownEditor=function(o){var n=Array.apply(null,arguments),i=[];switch(n.shift(),this.each(function(){var r,d=e(this),s=d.data("markdownEditor"),l="object"==typeof o&&o,c=l.theme||d.data("theme"),u={},p={},m=l.language||d.data("language")||e.fn.markdownEditor.defaults.language||"en";s||(c&&(p=e.fn.markdownEditorThemes[c]||{}),"en"===m||t.isEmpty(e.fn.markdownEditorLocales[m])||(u=e.fn.markdownEditorLocales[m]||{}),r=e.extend(!0,{},e.fn.markdownEditor.defaults,p,e.fn.markdownEditorLocales.en,u,l,d.data()),s=new a(this,r),d.data("markdownEditor",s)),"string"==typeof o&&i.push(s[o].apply(s,n))}),i.length){case 0:return this;case 1:return i[0];default:return i}},e.fn.markdownEditor.defaults={language:"en",theme:null,rows:15,bsVersion:4,defaultMode:"editor",enableUndoRedo:!0,enableExportDataUri:!0,enableSplitMode:!0,enableLivePreview:void 0,enableScrollSync:!0,startFullScreen:!1,templates:{},toolbarHeaderL:[["undo","redo"],["bold","italic","ins","del","sup","sub","mark"],["paragraph","newline","heading"],["link","image"],["indent","outdent","ul","ol","dl"],["footnote","blockquote","hr"],["code","codeblock"],["emoji"]],toolbarHeaderR:[["fullscreen"]],toolbarFooterL:[["hint"],["export"]],toolbarFooterR:[["mode"]],exportPrependCssJs:void 0,dropUp:{"export":!0},parserUrl:t.EMPTY,parserMethod:void 0,markdownItOptions:{html:!0,xhtmlOut:!0,linkify:!0,typographer:!0,highlight:function(e){return window.hljs?window.hljs.highlightAuto(e).value:e}},markdownItDisabledRules:[],markdownItPlugins:{markdownitDeflist:{},markdownitFootnote:{},markdownitAbbr:{},markdownitEmoji:{},markdownitSub:{},markdownitSup:{},markdownitMark:{},markdownitIns:{},markdownitSmartArrows:{},markdownitCheckbox:{divWrap:!0,divClass:"form-check checkbox",idPrefix:"cbx_"}},markdownItEmojies:window.mdEmojies||{},useTwemoji:!1,exportUrl:t.EMPTY,exportMethod:"post",exportAddlData:t.EMPTY,today:t.EMPTY,alertFadeDuration:2e3,outputParseTimeout:18e5,exportConfig:n.exportConfig,inputCss:"md-input",dropdownCss:{emoji:"md-emojies-list pull-right float-right"},defaultButtonCss:"btn btn-default btn-outline-secondary",buttonGroupCss:"btn-group md-btn-group",buttonCss:{hint:"btn btn-info"},buttonAccessKeys:{},iconCssPrefix:"fas fa-fw fa-",icons:{},alertMsgCss:"alert alert-danger",postProcess:{"<table>":'<table class="table table-bordered table-striped">',"<pre>":'<pre class="md-codeblock">','<input type="checkbox"':'<input type="checkbox" class="form-check-input"','<label for="cbx':'<label class="form-check-label" for="cbx'}},e.fn.markdownEditorLocales.en={noDataMsg:"No valid source data found!",exportFileName:"export",buttonTitles:{},buttonLabels:{},buttonPrompts:{},buttonActions:{},dialogCancelText:"Cancel",dialogSubmitText:"Submit",previewErrorTitle:"Preview Error",previewModeTitle:"Preview Mode",noPreviewUrlMsg:"Markdown preview processor unavailable. Please contact the system administrator.",emptyPreviewMsg:"No formatted content available for preview.",errorPreviewMsg:"Error generating preview. Please try again later.",previewProgressMsg:"Generating preview ...",noExportUrlMsg:"Export processor unavailable. Please contact the system administrator.",exportProgressMsg:"Generating export file for download ...",exportErrorMsg:"Error generating export. Please try again later.",emojiSearchHint:"Search emojis ...",loadingMsg:"Loading ..."},e.fn.markdownEditor.Constructor=a,e(document).ready(function(){var t=e("textarea.markdown");t.length&&t.markdownEditor()})});